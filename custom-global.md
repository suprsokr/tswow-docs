# Adding Custom Global Type Declarations

This guide explains how to add globally available types and runtime objects in TSWoW datascripts/livescripts folders.

## Overview

TypeScript automatically includes all `.d.ts` files in a directory since TSWoW's `tsconfig.json` does not exclude them.

**Important:** Don't modify `global.d.ts` or `tsconfig.json` directly - these files are auto-generated by TSWoW and will be overwritten. Instead, create your own `.d.ts` files in the same directory.

## Adding Global Types

To add custom global types (enums, constants, interfaces, etc.), simply create a `.d.ts` file in your `datascripts/` or `livescripts/` directory:

```typescript
// custom.d.ts

declare const enum CustomAttribute /**@realType:uint8 */ {
    TYPE_A = 0,
    TYPE_B = 1,
    TYPE_C = 2
}

declare const MY_MODULE_ID: uint32;
declare const MY_MODULE_NAME: string;

type EntityID = uint32;
type Coordinates = { x: float, y: float, z: float };
```

### Importing Types from Another Module

If you need to import types from another module and expose them globally, use this pattern:

```typescript
// export.d.ts
import type { MyLibrary as _MyLibrary } from "./myLib";

declare global {
    const MyLibrary: typeof _MyLibrary;
}

export {};
```

The `declare global { }` wrapper and `export {};` are required when using `import` statements because TypeScript treats files with imports as modules rather than global scripts.

## Adding Global Runtime Objects

**⚠️ Not Recommended:** Adding global runtime objects can make code harder to maintain and test. Prefer explicit imports instead.

**Step 1: Create your library file**

```typescript
// datascripts/myLib.ts
export class MyLibrary {
    static someFunction(): void {
        console.log("Hello from MyLibrary!");
    }
}
```

**Step 2: Create type declarations** (solves IDE type autocomplete)

```typescript
// datascripts/export.d.ts
import type { MyLibrary as _MyLibrary } from "./myLib";

declare global {
    const MyLibrary: typeof _MyLibrary;
}

export {};
```

**Step 3: Create runtime assignment** (solves runtime availability when building datascripts)

```typescript
// datascripts/myLibGlobal.ts
import { MyLibrary } from "./myLib";

(globalThis as any).MyLibrary = MyLibrary;
```

**Step 4: Use your library**

```typescript
// Now MyLibrary is available globally with full type support
MyLibrary.someFunction();
```

**Why both files are needed:**
- `export.d.ts` provides TypeScript type information (for IDE autocomplete and type checking)
- `myLibGlobal.ts` actually assigns the value to the global scope at runtime

`.d.ts` files are type-only and don't execute code, so you need a separate runtime file to assign the value.
